/* -----------------------------------------
   1. リセット & 基本レイアウト
   ----------------------------------------- */

/* ブラウザのデフォルト余白をリセット */
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
}

/* サイト全体のラッパー（Sticky Footer用） */
.pageWrapper {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* メインコンテンツ（Sticky Footer用） */
.mainContent {
  flex: 1;
}

/* フッターの初期表示（必要時だけCSSで隠す） */
.siteFooterSlot { display: block; }

/* 追加：ボックスサイズの統一 */
*, *::before, *::after { box-sizing: border-box; }

/* -----------------------------------------
   2. デザインシステム：バリアブル（変数）定義
   ----------------------------------------- */
:root {
  /* ▼ カラー ▼ */
  /* プライマリ（ブランドカラー） */
  --color-primary-500: #F39C12;
  --color-primary-600: #E67E22;
  --color-primary-100: #fffaf0;

  /* ニュートラル（基本色） */
  --color-gray-900: #333333;
  --color-gray-600: #555555;
  --color-gray-400: #777777;
  --color-gray-200: #dddddd;
  --color-gray-100: #eeeeee;
  --color-gray-50: #f9f9f9;
  --color-white: #FFFFFF;

  /* システムカラー */
  --color-success: #2ECC71;
  --color-error: #E74C3C;
  --color-info: #1DA1F2;

  /* ▼ スペーシング（余白） ▼ */
  --space-xs: 4px;
  --space-s: 8px;
  --space-m: 16px;
  --space-l: 24px;
  --space-xl: 32px;
  --space-xxl: 48px;

  /* ▼ コンテナ幅 ▼ */
  --container-sm: 760px;
  --container-md: 960px;
  --container-lg: 1200px;

  /* ▼ セクション上下余白（デフォ） ▼ */
  --section-py: 64px;
  --section-py-sm: 56px;
  --section-py-lg: 80px;

  /* ▼ 見出しスケール ▼ */
  --h2-size: clamp(22px, 2.4vw, 32px);
  --h3-size: clamp(18px, 2vw, 22px);

  /* ▼ タブバー高さ（デザインに合わせて調整可） ▼ */
  --tabbar-h: 72px;
}

/* 画面幅に応じてセクション余白を微調整 */
@media (max-width: 480px) {
  :root { --section-py: var(--section-py-sm); }
}
@media (min-width: 1024px) {
  :root { --section-py: var(--section-py-lg); }
}

/* -----------------------------------------
   3. 基本的なタグのスタイル
   ----------------------------------------- */
body {
  font-family: 'Noto Sans JP', sans-serif;
  color: var(--color-gray-900);
  background-color: var(--color-white);
  line-height: 1.8;
  font-size: 16px; /* モバイルでの基本フォントサイズ */
}

/* PC表示では、基本フォントサイズを少し大きくする */
@media (min-width: 1024px) {
  body { font-size: 18px; }
}

h1, h2, h3, h4, h5, h6 {
  color: var(--color-gray-900);
  font-weight: 700;
  line-height: 1.5;
}

a { color: var(--color-primary-500); text-decoration: none; }
a:hover { text-decoration: underline; color: var(--color-primary-600); }

/* -----------------------------------------
   4. 共通ユーティリティ（新設）
   ----------------------------------------- */

/* セクション外側余白（上下） */
.section { padding-block: var(--section-py); }

/* 横幅コンテナ */
.container {
  width: 100%;
  max-width: var(--container-lg);
  margin-inline: auto;
  padding-inline: 16px;
}
.container--md { max-width: var(--container-md); }
.container--sm { max-width: var(--container-sm); }

/* 背景のエイリアス */
.bg-white     { background: var(--color-white); }
.bg-gray-50   { background: var(--color-gray-50); }
.bg-brand-100 { background: var(--color-primary-100); }

/* 見出しの共通トーン（必要に応じて併用） */
.h2 {
  font-size: var(--h2-size);
  font-weight: 800;
  letter-spacing: 0.01em;
  color: #0f172a;
  margin: 0 0 32px;
}
.h3 {
  font-size: var(--h3-size);
  font-weight: 700;
  color: #111827;
  margin: 0 0 10px;
}

/* -----------------------------------------
   5. ボトムナビ連動（被り回避／上部ナビ非表示／フッター制御）
   ----------------------------------------- */

/* フッターは基本表示（明示） */
.siteFooterSlot { display: block; }

/* モバイル時に「ボトムナビがある」ときだけ適用（2系統で検知） */
@media (max-width: 768px) {
  /* A) JS が付ける body.has-tabbar で制御 */
  body.has-tabbar .siteFooterSlot { display: none !important; }
  body.has-tabbar .mainContent {
    padding-bottom: calc(var(--tabbar-h, 72px) + env(safe-area-inset-bottom));
  }
  body.has-tabbar header nav,
  body.has-tabbar header [role="navigation"],
  body.has-tabbar header [class*="nav"],
  body.has-tabbar header [class*="Nav"],
  body.has-tabbar header [class*="menu"],
  body.has-tabbar header [class*="Menu"] {
    display: none !important;
  }

  /* B) 予備：DOMに #rp-bottom-nav が存在する場合も同等に効かせる */
  body:has(#rp-bottom-nav) .siteFooterSlot { display: none !important; }
  body:has(#rp-bottom-nav) .mainContent {
    padding-bottom: calc(var(--tabbar-h, 72px) + env(safe-area-inset-bottom));
  }
  body:has(#rp-bottom-nav) header nav,
  body:has(#rp-bottom-nav) header [role="navigation"],
  body:has(#rp-bottom-nav) header [class*="nav"],
  body:has(#rp-bottom-nav) header [class*="Nav"],
  body:has(#rp-bottom-nav) header [class*="menu"],
  body:has(#rp-bottom-nav) header [class*="Menu"] {
    display: none !important;
  }
}
